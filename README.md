# Team-010-23-homework4

### Members:
Lorenz Estrera (estre069)  
Jonathan Haak (haak0052)  
Emma Kindelsperger (kinde085)  
Ben Knight (knigh501)  

## Project Overview
This project represents a drone simulation system. In this simulation, users can schedule trips for robots on a map of the University of Minnesota campus. Users are in control of the robots' starting point, final destination, as well as path routing strategy. Drones will then pick up the scheduled robots, carry them to their destination using the appropriate routing strategy, and drop them off.  

## How to Run the Simulation
For these instructions, we will assume you are using port 8081.  
1. Connect to a CSE lab machine  
2. Locate the Team-010-23-homework4 repo  
3. Build the project using the command "make -j"  
4. Run the project using the command "./build/bin/transit_service 8081 apps/transit_service/web/"  
5. Navigate to http://127.0.0.1:8081 and you should see a visualization.  
6. Navigate to http://127.0.0.1:8081/schedule.html and you should see a page to schedule robot trips.  

## Specifics of the Simulation
Drones can be instructed to use either Astar, DFS, or Dijkstra's search algorithms to determine the routes they take while carrying drones. However, when drones are flying to go pick up robots or to go recharge their battery at a recharging station, drones use the Beeline path strategy. While Astar, DFS, and Dijkstra all use actual path finding algorithms to calculate legitimate routes in between buildings on the map, Beeline just moves drones from one point to another in a completely linear movement.  

Upon arrival of a robot to its destination, both the robot and the drone will celebrate the successful delivery. The type of celebration depends on what routing strategy the user chose for the given robot. If Astar was chosen, then the drone and robot will celebrate by jumping up and down in place. If DFS was chosen, then the drone and robot will celebrate by first jumping, and then spinning around in place. If Dijkstra was chosen, then the drone and robot will celebrate by first spinning around, and then jumping.  

In our simulation, we have included both a helicopter entity and human entities. The helicopter only has one instance that is generated by the simulation, and has no effect on the drone delivery system. The helicopter is also not user interactable, and only flies around above the map within certain bounds and in random directions. On the other hand, multiple instances of human objects can be created and they are (kind of) user interactable. Users can generate humans in the simulation by clicking the 'Add Human' button found on the drone scheduling page, but apart from that there is nothing else users can do with humans. Humans will randomly run around on the map within certain bounds, and their movement does not affect the drone delivery system.  


## New Feature #1 - Battery Recharging
Our first extension was adding a battery to the drones that depletes over time, as well as recharging stations placed around the map. As drones fly around picking up and dropping off robots, their battery life will slowly go down from 100% to 0%. When a drone is moving it's battery depletes by 5% per second, and when a drone is not moving it's battery depletes by 1% per second. When a drone's battery reaches 30% or less, it will go and find the nearest recharge station to its current location. If the drone is in the middle of a delivery when it's battery reaches below 30%, it will complete the delivery first and then go recharge. Otherwise, if the drone was not in the middle of a delivery, then it will immediately go and recharge. At the recharging stations, drones' batteries are recharged incrementally at a rate of 1% per second. We have included four recharging stations placed around the map, as well as four drones that can complete deliveries. By including multiple recharging stations and drones, we decrease the chances of a drone being stranded on the map with 0% battery, in which case it cannot move at all and therefore cannot recharge itself. This is a significant add to the simulation because it greatly affects drones' behavior and ultimately changes the system of how robots are scheduled to be picked up. It even makes the simulation more realistic, because drones in real life also need to have their batteries recharged after being used. To implement this extension we used both Factory and Decorator design patterns. We used Decorator to add the battery implementation onto the drones, and then used Factory to create instances of the ChargingStation classes. This extension is not user interactable, so there are no instructions on how to use it.  


## New Feature #2 - Data Collection
Our second extension was to collect various data from running the drone simulation, and print out the data collected to a single csv file. The simulation data we collect includes the strategy names used, time elapsed each trip, drone battery life, and distance traveled each trip (where distance is calculated as a Beeline). Data collection starts when a trip is scheduled and ends when the delivery completes. During each trip, the data is put into vectors, which is then written into the csv file when the trip ends. The csv file can be accessed from the 'Team-010-23-homework4' directory under the name 'data.csv'. This is a significant add to the simulation because it allows users to see the details behind each successful trip, and can even be used to compare the effectiveness of the different routing algorithms used in the simulation. This is also useful to us, the creators of this extension, as we can use the data we collect to optimize our first extension, Battery Recharging and improving routing algorithms by updating heuristics. To implement this extension we used the Singleton design pattern.  

## Sprint Retrospective
Over the course of the project we had roughly 3 sprint periods. What worked well for our sprints was allowing people to work on their own and communicate their updates afterwards. We all had different schedules and constraints with other classes, so flexibility with workload and scheduling was beneficial for the team and overall product.  


## UML Diagrams
### Extension #1 UML
![CSCI 3081W Homework 4 Extension #1](https://media.github.umn.edu/user/20875/files/7ad228c4-f42c-4514-a577-c381e4d3db4b)


### Extension #2 UML
![CSCI 3081W Homework 4 Extension #2 (1)](https://media.github.umn.edu/user/20875/files/56cc6567-4ab3-4bf0-961b-f0b2121ad7d5)


## Docker link

